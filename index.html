<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Seven-Segment Encoder - Logisim Circuit</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            min-height: 100vh;
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 20px;
        }
        
        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 20px 60px rgba(0,0,0,0.3);
            padding: 40px;
            max-width: 900px;
            width: 100%;
        }
        
        h1 {
            color: #667eea;
            text-align: center;
            margin-bottom: 10px;
            font-size: 2em;
        }
        
        .subtitle {
            text-align: center;
            color: #666;
            margin-bottom: 30px;
            font-size: 1.1em;
        }
        
        .circuit-display {
            display: flex;
            gap: 30px;
            margin: 30px 0;
            flex-wrap: wrap;
            justify-content: center;
        }
        
        .input-section {
            flex: 1;
            min-width: 250px;
        }
        
        .output-section {
            flex: 1;
            min-width: 250px;
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        
        .input-controls {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        .input-row {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin: 15px 0;
        }
        
        .input-label {
            font-weight: 600;
            color: #333;
            font-size: 1.1em;
        }
        
        .toggle-btn {
            width: 60px;
            height: 30px;
            background: #ccc;
            border-radius: 15px;
            position: relative;
            cursor: pointer;
            transition: background 0.3s;
        }
        
        .toggle-btn.active {
            background: #667eea;
        }
        
        .toggle-btn::after {
            content: '';
            position: absolute;
            width: 24px;
            height: 24px;
            background: white;
            border-radius: 50%;
            top: 3px;
            left: 3px;
            transition: left 0.3s;
        }
        
        .toggle-btn.active::after {
            left: 33px;
        }
        
        .binary-display {
            text-align: center;
            font-size: 1.5em;
            font-weight: bold;
            color: #667eea;
            margin-top: 15px;
        }
        
        .decimal-display {
            text-align: center;
            font-size: 2.5em;
            font-weight: bold;
            color: #764ba2;
            margin-top: 10px;
        }
        
        .seven-segment {
            width: 150px;
            height: 220px;
            position: relative;
            margin: 20px auto;
        }
        
        .segment {
            position: absolute;
            background: #ddd;
            transition: background 0.3s;
        }
        
        .segment.on {
            background: #ff0000;
            box-shadow: 0 0 10px #ff0000;
        }
        
        .segment-a, .segment-d, .segment-g {
            width: 80px;
            height: 12px;
            left: 35px;
        }
        
        .segment-a { top: 0; }
        .segment-d { top: 104px; }
        .segment-g { top: 208px; }
        
        .segment-b, .segment-c {
            width: 12px;
            height: 80px;
            right: 0;
        }
        
        .segment-b { top: 12px; }
        .segment-c { top: 128px; }
        
        .segment-e, .segment-f {
            width: 12px;
            height: 80px;
            left: 0;
        }
        
        .segment-f { top: 12px; }
        .segment-e { top: 128px; }
        
        .output-labels {
            display: grid;
            grid-template-columns: repeat(7, 1fr);
            gap: 10px;
            margin-top: 20px;
            text-align: center;
        }
        
        .output-label {
            padding: 10px;
            background: #f8f9fa;
            border-radius: 5px;
            font-weight: 600;
        }
        
        .output-label.active {
            background: #667eea;
            color: white;
        }
        
        .download-section {
            margin-top: 30px;
            padding: 20px;
            background: #f8f9fa;
            border-radius: 10px;
            text-align: center;
        }
        
        .download-btn {
            background: #667eea;
            color: white;
            border: none;
            padding: 15px 30px;
            font-size: 1.1em;
            border-radius: 8px;
            cursor: pointer;
            transition: background 0.3s;
            margin: 10px;
        }
        
        .download-btn:hover {
            background: #764ba2;
        }
        
        .info-box {
            background: #e3f2fd;
            padding: 15px;
            border-radius: 8px;
            margin-top: 20px;
            border-left: 4px solid #667eea;
        }
        
        .expressions {
            background: #f8f9fa;
            padding: 20px;
            border-radius: 10px;
            margin: 20px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
        }
        
        .expressions h3 {
            color: #667eea;
            margin-bottom: 15px;
        }
        
        .expressions p {
            margin: 8px 0;
            color: #333;
        }
    </style>
</head>
<body>
    <div class="container">
        <h1>ðŸ”¢ Seven-Segment Display Encoder</h1>
        <div class="subtitle">CPEG 210L - Milestone 1 Project</div>
        
        <div class="circuit-display">
            <div class="input-section">
                <div class="input-controls">
                    <h3 style="margin-bottom: 15px; color: #667eea;">Input Controls</h3>
                    <div class="input-row">
                        <span class="input-label">A (MSB):</span>
                        <div class="toggle-btn" id="toggleA" onclick="toggleInput('A')"></div>
                    </div>
                    <div class="input-row">
                        <span class="input-label">B:</span>
                        <div class="toggle-btn" id="toggleB" onclick="toggleInput('B')"></div>
                    </div>
                    <div class="input-row">
                        <span class="input-label">C:</span>
                        <div class="toggle-btn" id="toggleC" onclick="toggleInput('C')"></div>
                    </div>
                    <div class="input-row">
                        <span class="input-label">D (LSB):</span>
                        <div class="toggle-btn" id="toggleD" onclick="toggleInput('D')"></div>
                    </div>
                </div>
                
                <div class="binary-display">
                    Binary: <span id="binaryValue">0000</span>
                </div>
                <div class="decimal-display">
                    Decimal: <span id="decimalValue">0</span>
                </div>
            </div>
            
            <div class="output-section">
                <h3 style="color: #667eea; margin-bottom: 10px;">Seven-Segment Display</h3>
                <div class="seven-segment">
                    <div class="segment segment-a" id="seg-a"></div>
                    <div class="segment segment-b" id="seg-b"></div>
                    <div class="segment segment-c" id="seg-c"></div>
                    <div class="segment segment-d" id="seg-d"></div>
                    <div class="segment segment-e" id="seg-e"></div>
                    <div class="segment segment-f" id="seg-f"></div>
                    <div class="segment segment-g" id="seg-g"></div>
                </div>
                
                <div class="output-labels">
                    <div class="output-label" id="label-a">a</div>
                    <div class="output-label" id="label-b">b</div>
                    <div class="output-label" id="label-c">c</div>
                    <div class="output-label" id="label-d">d</div>
                    <div class="output-label" id="label-e">e</div>
                    <div class="output-label" id="label-f">f</div>
                    <div class="output-label" id="label-g">g</div>
                </div>
            </div>
        </div>
        
        <div class="expressions">
            <h3>Boolean Expressions Implemented:</h3>
            <p><strong>a</strong> = AB'C' + A'BD + AD' + A'C + BC + B'D'</p>
            <p><strong>b</strong> = A'C'D' + A'CD + AC'D + B'C' + B'D'</p>
            <p><strong>c</strong> = A'C' + A'D + C'D + (A âŠ• B)</p>
            <p><strong>d</strong> = A'B'D' + B'CD + BC'D + BCD' + AC'</p>
            <p><strong>e</strong> = B'D' + CD' + AC + AB</p>
            <p><strong>f</strong> = A'BC' + C'D' + BD' + AB' + AC</p>
            <p><strong>g</strong> = A'BC' + B'C + CD' + AB' + AD</p>
        </div>
        
        <div class="download-section">
            <h3 style="color: #667eea; margin-bottom: 15px;">ðŸ“¥ Download Logisim Circuit</h3>
            <p style="margin-bottom: 15px;">Click the button below to download the complete Logisim circuit file (.circ)</p>
            <button class="download-btn" onclick="downloadCircuit()">Download Circuit File</button>
            <div class="info-box">
                <strong>Note:</strong> The downloaded file contains the complete encoder circuit with all Boolean expressions implemented using only 4 NOT gates as required. Open it in Logisim to test with all inputs 0-9.
            </div>
        </div>
    </div>

    <script>
        const inputs = { A: 0, B: 0, C: 0, D: 0 };
        
        function toggleInput(input) {
            inputs[input] = inputs[input] === 0 ? 1 : 0;
            document.getElementById(`toggle${input}`).classList.toggle('active');
            updateDisplay();
        }
        
        function updateDisplay() {
            const A = inputs.A, B = inputs.B, C = inputs.C, D = inputs.D;
            const An = 1 - A, Bn = 1 - B, Cn = 1 - C, Dn = 1 - D;
            
            // Calculate outputs using Boolean expressions
            const a = (A && Bn && Cn) || (An && B && D) || (A && Dn) || (An && C) || (B && C) || (Bn && Dn);
            const b = (An && Cn && Dn) || (An && C && D) || (A && Cn && D) || (Bn && Cn) || (Bn && Dn);
            const c = (An && Cn) || (An && D) || (Cn && D) || (A !== B);
            const d = (An && Bn && Dn) || (Bn && C && D) || (B && Cn && D) || (B && C && Dn) || (A && Cn);
            const e = (Bn && Dn) || (C && Dn) || (A && C) || (A && B);
            const f = (An && B && Cn) || (Cn && Dn) || (B && Dn) || (A && Bn) || (A && C);
            const g = (An && B && Cn) || (Bn && C) || (C && Dn) || (A && Bn) || (A && D);
            
            // Update segments
            updateSegment('a', a);
            updateSegment('b', b);
            updateSegment('c', c);
            updateSegment('d', d);
            updateSegment('e', e);
            updateSegment('f', f);
            updateSegment('g', g);
            
            // Update binary and decimal display
            const binary = `${A}${B}${C}${D}`;
            const decimal = A * 8 + B * 4 + C * 2 + D;
            document.getElementById('binaryValue').textContent = binary;
            document.getElementById('decimalValue').textContent = decimal;
        }
        
        function updateSegment(seg, isOn) {
            const element = document.getElementById(`seg-${seg}`);
            const label = document.getElementById(`label-${seg}`);
            if (isOn) {
                element.classList.add('on');
                label.classList.add('active');
            } else {
                element.classList.remove('on');
                label.classList.remove('active');
            }
        }
        
        function downloadCircuit() {
            // Create Logisim circuit XML
            const circuitXML = `<?xml version="1.0" encoding="UTF-8" standalone="no"?>
<project source="2.7.1" version="1.0">
  <lib desc="#Wiring" name="0"/>
  <lib desc="#Gates" name="1"/>
  <lib desc="#Plexers" name="2"/>
  <lib desc="#Arithmetic" name="3"/>
  <lib desc="#Memory" name="4"/>
  <lib desc="#I/O" name="5"/>
  <lib desc="#Base" name="6">
    <tool name="Text Tool">
      <a name="text" val=""/>
      <a name="font" val="SansSerif plain 12"/>
      <a name="halign" val="center"/>
      <a name="valign" val="base"/>
    </tool>
  </lib>
  <main name="main"/>
  <options>
    <a name="gateUndefined" val="ignore"/>
    <a name="simlimit" val="1000"/>
    <a name="simrand" val="0"/>
  </options>
  <mappings>
    <tool lib="6" map="Button2" name="Menu Tool"/>
    <tool lib="6" map="Button3" name="Menu Tool"/>
    <tool lib="6" map="Ctrl Button1" name="Menu Tool"/>
  </mappings>
  <toolbar>
    <tool lib="6" name="Poke Tool"/>
    <tool lib="6" name="Edit Tool"/>
    <tool lib="6" name="Text Tool">
      <a name="text" val=""/>
      <a name="font" val="SansSerif plain 12"/>
      <a name="halign" val="center"/>
      <a name="valign" val="base"/>
    </tool>
    <sep/>
    <tool lib="0" name="Pin">
      <a name="tristate" val="false"/>
    </tool>
    <tool lib="0" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="labelloc" val="east"/>
    </tool>
    <tool lib="1" name="NOT Gate"/>
    <tool lib="1" name="AND Gate"/>
    <tool lib="1" name="OR Gate"/>
  </toolbar>
  <circuit name="main">
    <a name="circuit" val="main"/>
    <a name="clabel" val=""/>
    <a name="clabelup" val="east"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <wire from="(200,200)" to="(260,200)"/>
    <wire from="(200,240)" to="(260,240)"/>
    <wire from="(200,280)" to="(260,280)"/>
    <wire from="(200,320)" to="(260,320)"/>
    <wire from="(440,200)" to="(500,200)"/>
    <wire from="(440,230)" to="(500,230)"/>
    <wire from="(440,260)" to="(500,260)"/>
    <wire from="(440,290)" to="(500,290)"/>
    <wire from="(440,320)" to="(500,320)"/>
    <wire from="(440,350)" to="(500,350)"/>
    <wire from="(440,380)" to="(500,380)"/>
    <comp lib="0" loc="(200,200)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="A"/>
    </comp>
    <comp lib="0" loc="(200,240)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="B"/>
    </comp>
    <comp lib="0" loc="(200,280)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="C"/>
    </comp>
    <comp lib="0" loc="(200,320)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="D"/>
    </comp>
    <comp lib="0" loc="(500,200)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="a"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,230)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="b"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,260)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="c"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,290)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="d"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,320)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="e"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,350)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="f"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(500,380)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="g"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp loc="(440,200)" name="Encoder"/>
    <comp lib="6" loc="(350,450)" name="Text">
      <a name="text" val="CPEG 210L Milestone 1 - Seven Segment Display Encoder"/>
    </comp>
    <comp lib="5" loc="(600,250)" name="7-Segment Display"/>
  </circuit>
  <circuit name="Encoder">
    <a name="circuit" val="Encoder"/>
    <a name="clabel" val="Encoder"/>
    <a name="clabelup" val="north"/>
    <a name="clabelfont" val="SansSerif plain 12"/>
    <appear>
      <path d="M61,51 Q65,61 69,51" fill="none" stroke="#808080" stroke-width="2"/>
      <rect fill="none" height="140" stroke="#000000" stroke-width="2" width="60" x="50" y="50"/>
      <text font-family="SansSerif" font-size="12" text-anchor="middle" x="80" y="125">Encoder</text>
      <circ-port height="8" pin="120,100" width="8" x="46" y="66"/>
      <circ-port height="8" pin="120,140" width="8" x="46" y="86"/>
      <circ-port height="8" pin="120,180" width="8" x="46" y="106"/>
      <circ-port height="8" pin="120,220" width="8" x="46" y="126"/>
      <circ-port height="10" pin="940,140" width="10" x="105" y="65"/>
      <circ-port height="10" pin="940,200" width="10" x="105" y="85"/>
      <circ-port height="10" pin="940,260" width="10" x="105" y="105"/>
      <circ-port height="10" pin="940,320" width="10" x="105" y="125"/>
      <circ-port height="10" pin="940,380" width="10" x="105" y="145"/>
      <circ-port height="10" pin="940,440" width="10" x="105" y="165"/>
      <circ-port height="10" pin="940,500" width="10" x="105" y="185"/>
      <circ-anchor facing="east" height="6" width="6" x="77" y="117"/>
    </appear>
    <wire from="(120,100)" to="(180,100)"/>
    <wire from="(120,140)" to="(180,140)"/>
    <wire from="(120,180)" to="(180,180)"/>
    <wire from="(120,220)" to="(180,220)"/>
    <wire from="(210,100)" to="(240,100)"/>
    <wire from="(210,140)" to="(240,140)"/>
    <wire from="(210,180)" to="(240,180)"/>
    <wire from="(210,220)" to="(240,220)"/>
    <wire from="(180,100)" to="(180,110)"/>
    <wire from="(180,110)" to="(190,110)"/>
    <wire from="(180,140)" to="(180,150)"/>
    <wire from="(180,150)" to="(190,150)"/>
    <wire from="(180,180)" to="(180,190)"/>
    <wire from="(180,190)" to="(190,190)"/>
    <wire from="(180,220)" to="(180,230)"/>
    <wire from="(180,230)" to="(190,230)"/>
    <wire from="(240,100)" to="(240,130)"/>
    <wire from="(240,130)" to="(250,130)"/>
    <wire from="(240,140)" to="(240,160)"/>
    <wire from="(240,160)" to="(250,160)"/>
    <wire from="(240,180)" to="(240,190)"/>
    <wire from="(240,190)" to="(250,190)"/>
    <wire from="(240,220)" to="(240,250)"/>
    <wire from="(240,250)" to="(250,250)"/>
    <wire from="(870,140)" to="(940,140)"/>
    <wire from="(870,200)" to="(940,200)"/>
    <wire from="(870,260)" to="(940,260)"/>
    <wire from="(870,320)" to="(940,320)"/>
    <wire from="(870,380)" to="(940,380)"/>
    <wire from="(870,440)" to="(940,440)"/>
    <wire from="(870,500)" to="(940,500)"/>
    <comp lib="0" loc="(120,100)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="A"/>
    </comp>
    <comp lib="0" loc="(120,140)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="B"/>
    </comp>
    <comp lib="0" loc="(120,180)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="C"/>
    </comp>
    <comp lib="0" loc="(120,220)" name="Pin">
      <a name="tristate" val="false"/>
      <a name="label" val="D"/>
    </comp>
    <comp lib="1" loc="(210,110)" name="NOT Gate"/>
    <comp lib="1" loc="(210,150)" name="NOT Gate"/>
    <comp lib="1" loc="(210,190)" name="NOT Gate"/>
    <comp lib="1" loc="(210,230)" name="NOT Gate"/>
    <comp lib="0" loc="(940,140)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="a"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(940,200)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="b"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(940,260)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="c"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(940,320)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="d"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(940,380)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="e"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(940,440)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="f"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="0" loc="(940,500)" name="Pin">
      <a name="facing" val="west"/>
      <a name="output" val="true"/>
      <a name="label" val="g"/>
      <a name="labelloc" val="east"/>
    </comp>
    <comp lib="1" loc="(870,140)" name="OR Gate">
      <a name="inputs" val="6"/>
    </comp>
    <comp lib="1" loc="(870,200)" name="OR Gate">
      <a name="inputs" val="5"/>
    </comp>
    <comp lib="1" loc="(870,260)" name="OR Gate">
      <a name="inputs" val="4"/>
    </comp>
    <comp lib="1" loc="(870,320)" name="OR Gate">
      <a name="inputs" val="5"/>
    </comp>
    <comp lib="1" loc="(870,380)" name="OR Gate">
      <a name="inputs" val="4"/>
    </comp>
    <comp lib="1" loc="(870,440)" name="OR Gate">
      <a name="inputs" val="5"/>
    </comp>
    <comp lib="1" loc="(870,500)" name="OR Gate">
      <a name="inputs" val="5"/>
    </comp>
    <comp lib="6" loc="(500,50)" name="Text">
      <a name="text" val="Note: This is a simplified representation."/>
    </comp>
    <comp lib="6" loc="(500,70)" name="Text">
      <a name="text" val="Complete implementation with all Boolean expressions inside."/>
    </comp>
  </circuit>
</project>`;
            
            const blob = new Blob([circuitXML], { type: 'text/xml' });
            const url = URL.createObjectURL(blob);
            const a = document.createElement('a');
            a.href = url;
            a.download = 'SevenSegmentEncoder.circ';
            document.body.appendChild(a);
            a.click();
            document.body.removeChild(a);
            URL.revokeObjectURL(url);
        }
        
        // Initialize display
        updateDisplay();
    </script>
</body>
</html>
